import{a as ht,b as J,c as ft,d as gt,e as _t,f as vt,g as yt,h as wt,i as bt,j as xt,k as ee,l as W,m as Ct,q as Mt,r as St,z as $}from"./chunk-H5OUII4K.js";import{a as Te,b as at,c as lt,d as S,f as ct,g as me,h as he,i as dt,j as pt,l as ut,n as De,o as mt}from"./chunk-6GP3DRW4.js";import{$a as it,A as N,B as h,C as y,D as K,Da as l,E as Ue,Ea as c,Fa as z,Ga as M,H as _,I as v,J as le,K as Be,Ka as f,La as m,M as U,N as ze,O as B,P as D,Q as Ce,S as O,Sa as Je,T as We,Ta as g,U as Me,Ua as Ee,V as $e,Va as et,W as ce,Wa as ue,X as Ge,Xa as Ie,Y as Se,Ya as tt,Z as Ze,Za as nt,_ as Ye,b as se,ba as X,bb as ot,c as ae,ca as b,d as Ve,da as Q,eb as rt,fa as de,g as k,hb as st,ia as qe,la as A,m as L,ma as R,n as xe,q as j,ra as C,u as q,ua as Ke,va as pe,w as V,wa as Xe,xa as Qe,y as x,z as T,za as w}from"./chunk-GR4TJEHC.js";import{a as Y,b as je}from"./chunk-C6Q5SG76.js";var Ae=class extends lt{supportsDOMEvents=!0},Re=class o extends Ae{static makeCurrent(){at(new o)}onAndCancel(t,e,n,i){return t.addEventListener(e,n,i),()=>{t.removeEventListener(e,n,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Wt();return e==null?null:$t(e)}resetBaseElement(){te=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ct(document.cookie,t)}},te=null;function Wt(){return te=te||document.querySelector("base"),te?te.getAttribute("href"):null}function $t(o){return new URL(o,document.baseURI).pathname}var Gt=(()=>{class o{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||o)};static \u0275prov=x({token:o,factory:o.\u0275fac})}return o})(),Pe=new N(""),Ot=(()=>{class o{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,i,r){return this._findPluginFor(n).addEventListener(e,n,i,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(r=>r.supports(e)),!n)throw new V(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||o)(h(Pe),h(D))};static \u0275prov=x({token:o,factory:o.\u0275fac})}return o})(),ge=class{_doc;constructor(t){this._doc=t}manager},fe="ng-app-id";function Et(o){for(let t of o)t.remove()}function It(o,t){let e=t.createElement("style");return e.textContent=o,e}function Zt(o,t,e,n){let i=o.head?.querySelectorAll(`style[${fe}="${t}"],link[${fe}="${t}"]`);if(i)for(let r of i)r.removeAttribute(fe),r instanceof HTMLLinkElement?n.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&e.set(r.textContent,{usage:0,elements:[r]})}function ke(o,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",o),e}var At=(()=>{class o{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,i,r={}){this.doc=e,this.appId=n,this.nonce=i,this.isServer=De(r),Zt(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let i of e)this.addUsage(i,this.inline,It);n?.forEach(i=>this.addUsage(i,this.external,ke))}removeStyles(e,n){for(let i of e)this.removeUsage(i,this.inline);n?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,n,i){let r=n.get(e);r?r.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,n){let i=n.get(e);i&&(i.usage--,i.usage<=0&&(Et(i.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Et(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:i}]of this.inline)i.push(this.addElement(e,It(n,this.doc)));for(let[n,{elements:i}]of this.external)i.push(this.addElement(e,ke(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(fe,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||o)(h(S),h(Me),h(Se,8),h(ce))};static \u0275prov=x({token:o,factory:o.\u0275fac})}return o})(),Oe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Fe=/%COMP%/g;var Rt="%COMP%",Yt=`_nghost-${Rt}`,qt=`_ngcontent-${Rt}`,Kt=!0,Xt=new N("",{providedIn:"root",factory:()=>Kt});function Qt(o){return qt.replace(Fe,o)}function Jt(o){return Yt.replace(Fe,o)}function Pt(o,t){return t.map(e=>e.replace(Fe,o))}var _e=(()=>{class o{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,i,r,s,a,p,d=null,u=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.removeStylesOnCompDestroy=r,this.doc=s,this.platformId=a,this.ngZone=p,this.nonce=d,this.tracingService=u,this.platformIsServer=De(a),this.defaultRenderer=new ne(e,s,p,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===X.ShadowDom&&(n=je(Y({},n),{encapsulation:X.Emulated}));let i=this.getOrCreateRenderer(e,n);return i instanceof ve?i.applyToHost(e):i instanceof ie&&i.applyStyles(),i}getOrCreateRenderer(e,n){let i=this.rendererByCompId,r=i.get(n.id);if(!r){let s=this.doc,a=this.ngZone,p=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,P=this.platformIsServer,I=this.tracingService;switch(n.encapsulation){case X.Emulated:r=new ve(p,d,n,this.appId,u,s,a,P,I);break;case X.ShadowDom:return new Ne(p,d,e,n,s,a,this.nonce,P,I);default:r=new ie(p,d,n,u,s,a,P,I);break}i.set(n.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||o)(h(Ot),h(At),h(Me),h(Xt),h(S),h(ce),h(D),h(Se),h(Ze,8))};static \u0275prov=x({token:o,factory:o.\u0275fac})}return o})(),ne=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,i,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=i,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Oe[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Tt(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Tt(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new V(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;let r=Oe[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let i=Oe[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(Q.DashCase|Q.Important)?t.style.setProperty(e,n,i&Q.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Q.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,i){if(typeof t=="string"&&(t=Te().getGlobalEventTarget(this.doc,t),!t))throw new V(5102,!1);let r=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(t,e,r)),this.eventManager.addEventListener(t,e,r,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Tt(o){return o.tagName==="TEMPLATE"&&o.content!==void 0}var Ne=class extends ne{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,i,r,s,a,p,d){super(t,r,s,p,d),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Pt(i.id,u);for(let I of u){let H=document.createElement("style");a&&H.setAttribute("nonce",a),H.textContent=I,this.shadowRoot.appendChild(H)}let P=i.getExternalStyles?.();if(P)for(let I of P){let H=ke(I,r);a&&H.setAttribute("nonce",a),this.shadowRoot.appendChild(H)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ie=class extends ne{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,i,r,s,a,p,d){super(t,r,s,a,p),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let u=n.styles;this.styles=d?Pt(d,u):u,this.styleUrls=n.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ve=class extends ie{contentAttr;hostAttr;constructor(t,e,n,i,r,s,a,p,d){let u=i+"-"+n.id;super(t,e,n,r,s,a,p,d,u),this.contentAttr=Qt(u),this.hostAttr=Jt(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}},en=(()=>{class o extends ge{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,i,r){return e.addEventListener(n,i,r),()=>this.removeEventListener(e,n,i,r)}removeEventListener(e,n,i,r){return e.removeEventListener(n,i,r)}static \u0275fac=function(n){return new(n||o)(h(S))};static \u0275prov=x({token:o,factory:o.\u0275fac})}return o})(),Dt=["alt","control","meta","shift"],tn={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nn={alt:o=>o.altKey,control:o=>o.ctrlKey,meta:o=>o.metaKey,shift:o=>o.shiftKey},on=(()=>{class o extends ge{constructor(e){super(e)}supports(e){return o.parseEventName(e)!=null}addEventListener(e,n,i,r){let s=o.parseEventName(n),a=o.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Te().onAndCancel(e,s.domEventName,a,r))}static parseEventName(e){let n=e.toLowerCase().split("."),i=n.shift();if(n.length===0||!(i==="keydown"||i==="keyup"))return null;let r=o._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),Dt.forEach(d=>{let u=n.indexOf(d);u>-1&&(n.splice(u,1),s+=d+".")}),s+=r,n.length!=0||r.length===0)return null;let p={};return p.domEventName=i,p.fullKey=s,p}static matchEventFullKeyCode(e,n){let i=tn[e.key]||e.key,r="";return n.indexOf("code.")>-1&&(i=e.code,r="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Dt.forEach(s=>{if(s!==i){let a=nn[s];a(e)&&(r+=s+".")}}),r+=i,r===n)}static eventCallback(e,n,i){return r=>{o.matchEventFullKeyCode(r,e)&&i.runGuarded(()=>n(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||o)(h(S))};static \u0275prov=x({token:o,factory:o.\u0275fac})}return o})();function kt(o,t){return rt(Y({rootComponent:o},rn(t)))}function rn(o){return{appProviders:[...dn,...o?.providers??[]],platformProviders:cn}}function sn(){Re.makeCurrent()}function an(){return new Ce}function ln(){return We(document),document}var cn=[{provide:ce,useValue:ut},{provide:$e,useValue:sn,multi:!0},{provide:S,useFactory:ln,deps:[]}];var dn=[{provide:Ue,useValue:"root"},{provide:Ce,useFactory:an,deps:[]},{provide:Pe,useClass:en,multi:!0,deps:[S]},{provide:Pe,useClass:on,multi:!0,deps:[S]},_e,At,Ot,{provide:de,useExisting:_e},{provide:mt,useClass:Gt,deps:[]},[]];var pn="@",un=(()=>{class o{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=y(U);loadingSchedulerFn=y(mn,{optional:!0});_engine;constructor(e,n,i,r,s){this.doc=e,this.delegate=n,this.zone=i,this.animationType=r,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-YKQYFI5W.js").then(i=>i),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(i=>{throw new V(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:r})=>{this._engine=i(this.animationType,this.doc);let s=new r(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,n){let i=this.delegate.createRenderer(e,n);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let r=new He(i);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(e,n);r.use(a),this.scheduler??=this.injector.get(ze,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{r.use(i)}),r}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){qe()};static \u0275prov=x({token:o,factory:o.\u0275fac})}return o})(),He=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,i){this.delegate.insertBefore(t,e,n,i)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,i){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,n,i)),this.delegate.listen(t,e,n,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(pn)}},mn=new N("");function Nt(o="animations"){return Ye("NgAsyncAnimations"),K([{provide:de,useFactory:(t,e,n)=>new un(t,e,n,o),deps:[S,_e,D]},{provide:Ge,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var oe="Service workers are disabled or not supported by this browser",G=class{serviceWorker;worker;registration;events;constructor(t,e){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=new se(n=>n.error(new Error(oe)));else{let n=null,i=new ae;this.worker=new se(d=>(n!==null&&d.next(n),i.subscribe(u=>d.next(u))));let r=()=>{let{controller:d}=t;d!==null&&(n=d,i.next(n))};t.addEventListener("controllerchange",r),r(),this.registration=this.worker.pipe(q(()=>t.getRegistration()));let s=new ae;this.events=s.asObservable();let a=d=>{let{data:u}=d;u?.type&&s.next(u)};t.addEventListener("message",a),e?.get(pe,null,{optional:!0})?.onDestroy(()=>{t.removeEventListener("controllerchange",r),t.removeEventListener("message",a)})}}postMessage(t,e){return new Promise(n=>{this.worker.pipe(j(1)).subscribe(i=>{i.postMessage(Y({action:t},e)),n()})})}postMessageWithOperation(t,e,n){let i=this.waitForOperationCompleted(n),r=this.postMessage(t,e);return Promise.all([r,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let e;return typeof t=="string"?e=n=>n.type===t:e=n=>t.includes(n.type),this.events.pipe(xe(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(j(1))}waitForOperationCompleted(t){return new Promise((e,n)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(xe(i=>i.nonce===t),j(1),k(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:e,error:n})})}get isEnabled(){return!!this.serviceWorker}},hn=(()=>{class o{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new ae;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=L,this.notificationClicks=L,this.subscription=L;return}this.messages=this.sw.eventsOfType("PUSH").pipe(k(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(k(i=>i.data)),this.pushManager=this.sw.registration.pipe(k(i=>i.pushManager));let n=this.pushManager.pipe(q(i=>i.getSubscription()));this.subscription=new se(i=>{let r=n.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{r.unsubscribe(),s.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(oe));let n={userVisibleOnly:!0},i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)r[s]=i.charCodeAt(s);return n.applicationServerKey=r,new Promise((s,a)=>{this.pushManager.pipe(q(p=>p.subscribe(n)),j(1)).subscribe({next:p=>{this.subscriptionChanges.next(p),s(p)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(oe));let e=n=>{if(n===null)throw new Error("Not subscribed to push notifications.");return n.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return new Promise((n,i)=>{this.subscription.pipe(j(1),q(e)).subscribe({next:n,error:i})})}decodeBase64(e){return atob(e)}static \u0275fac=function(n){return new(n||o)(h(G))};static \u0275prov=x({token:o,factory:o.\u0275fac})}return o})(),fn=(()=>{class o{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=L,this.unrecoverable=L;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(oe));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(oe));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(n){return new(n||o)(h(G))};static \u0275prov=x({token:o,factory:o.\u0275fac})}return o})();var Ht=new N("");function gn(){let o=y(re);if(!("serviceWorker"in navigator&&o.enabled!==!1))return;let t=y(Ht),e=y(D),n=y(pe);e.runOutsideAngular(()=>{let i=navigator.serviceWorker,r=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",r),n.onDestroy(()=>{i.removeEventListener("controllerchange",r)})}),e.runOutsideAngular(()=>{let i,{registrationStrategy:r}=o;if(typeof r=="function")i=new Promise(s=>r().subscribe(()=>s()));else{let[s,...a]=(r||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=Ft(+a[0]||0);break;case"registerWhenStable":i=Promise.race([n.whenStable(),Ft(+a[0])]);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${o.registrationStrategy}`)}}i.then(()=>navigator.serviceWorker.register(t,{scope:o.scope}).catch(s=>console.error("Service worker registration failed with:",s)))})}function Ft(o){return new Promise(t=>setTimeout(t,o))}function _n(o,t){return new G(o.enabled!==!1?navigator.serviceWorker:void 0,t)}var re=class{enabled;scope;registrationStrategy};function Lt(o,t={}){return K([hn,fn,{provide:Ht,useValue:o},{provide:re,useValue:t},{provide:G,useFactory:_n,deps:[re,U]},Ke(gn)])}var jt={providers:[it(),Nt("noop"),Lt("ngsw-worker.js",{enabled:!ot(),registrationStrategy:"registerWhenStable:30000"})]};var Z=class o{coreLoaded=O(!1);static CalcMwdModule;async startCoreModuleLoading(){o.CalcMwdModule=await import("./chunk-RMAX657V.js").then(t=>t.CalcMwdModule)}getCoreOutputDriver(){return new o.CalcMwdModule().getOutputDriver()}getCoreInputDriver(){return new o.CalcMwdModule().getInputDriver()}static \u0275fac=function(e){return new(e||o)};static \u0275prov=x({token:o,factory:o.\u0275fac,providedIn:"root"})};var F=class o{_allSamples$=new Ve([this.getExample()]);addSamplesRecord(t){t.createdAt===void 0&&(t.createdAt=new Date),!this._doesSampleExist(t)&&this._allSamples$.next([...this._allSamples$.value,t])}_doesSampleExist(t){let e=t.result;return e===0||e===void 0?!0:this._allSamples$.value.some(i=>i.result===e)}getSamplesByItem(t){return this._allSamples$.value[t].sample}observeAllSamplesRecords(){return this._allSamples$.asObservable()}cleanAll(){this._allSamples$.next([this.getExample()])}cleanOne(t){let e=this._allSamples$.value;if(t<0||t>=e.length)throw new Error("Index out of bounds");e.splice(t,1),this._allSamples$.next(e)}getExample(){return{sample:new Map([[0,{tamizDiameter:8,soilWeight:0}],[1,{tamizDiameter:4,soilWeight:3.4}],[2,{tamizDiameter:2,soilWeight:21.26}],[3,{tamizDiameter:1,soilWeight:34.73}],[4,{tamizDiameter:.5,soilWeight:35.69}],[5,{tamizDiameter:.25,soilWeight:31.31}],[6,{tamizDiameter:.053,soilWeight:38.26}],[7,{tamizDiameter:0,soilWeight:25.37}]]),result:.953859829,createdAt:new Date("2025-04-07T18:50:00-06:00")}}static \u0275fac=function(e){return new(e||o)};static \u0275prov=x({token:o,factory:o.\u0275fac,providedIn:"root"})};var Vt=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=R({type:o});static \u0275inj=T({})}return o})();var Ut=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=R({type:o});static \u0275inj=T({imports:[ee,Vt,Mt]})}return o})();var Le=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=R({type:o});static \u0275inj=T({imports:[ee,ee]})}return o})();function Sn(o,t){if(o&1){let e=M();le(),l(0,"svg",16),f("click",function(i){_(e);let r=m().index;return m(3).onClickCleanOne(r),v(i.stopPropagation())}),z(1,"path",17),c()}}function En(o,t){if(o&1){let e=M();l(0,"div",13)(1,"div",14),f("click",function(){let i=_(e).index,r=m(3);return v(r.onRecordClick(i))}),l(2,"div",11),g(3),Ie(4,"date"),c(),l(5,"div"),g(6),C(7,Sn,2,0,"svg",15),c(),l(8,"div"),g(9),c()()()}if(o&2){let e=t.$implicit,n=t.index;b(3),Ee(nt(4,4,e.createdAt,"short")),b(3),et(" ",n===0?"Ejemplo":n," "),b(),w("ngIf",n!==0),b(2),Ee(e.result)}}function In(o,t){if(o&1&&(l(0,"div",9)(1,"div",10)(2,"div",11),g(3,"Agregado"),c(),l(4,"div"),g(5,"Nombre"),c(),l(6,"div"),g(7,"Resultado"),c()(),C(8,En,10,7,"div",12),c()),o&2){let e=m().ngIf;b(8),w("ngForOf",e)}}function Tn(o,t){if(o&1){let e=M();l(0,"div",1)(1,"div",2)(2,"button",3),f("click",function(){_(e);let i=m();return v(i.onClickBackFromHistory())}),le(),l(3,"svg",4),z(4,"path",5),c()(),Be(),l(5,"h4"),g(6,"Historial"),c()(),C(7,In,9,1,"div",6),l(8,"div",7)(9,"button",8),f("click",function(){_(e);let i=m();return v(i.onClickBackFromHistory())}),g(10,"Regresar"),c()()()}if(o&2){let e=t.ngIf;b(7),w("ngIf",e.length>0)}}var ye=class o{recordClick=new B;backFromHistory=new B;_srv=y(F);panelOpenState=O(!1);history$=this._srv.observeAllSamplesRecords().pipe(k(t=>t.map(e=>e)));onClickClean(){this._srv.cleanAll()}onClickCleanOne(t){this._srv.cleanOne(t)}onRecordClick(t){let e=this._srv.getSamplesByItem(t);this.recordClick.emit(e),this.backFromHistory.emit()}onClickBackFromHistory(){this.backFromHistory.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["mwd-history"]],outputs:{recordClick:"recordClick",backFromHistory:"backFromHistory"},decls:2,vars:3,consts:[["class","history-container",4,"ngIf"],[1,"history-container"],[1,"history-header"],["mat-button","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","26","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-chevron-left"],["fill-rule","evenodd","d","M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"],["class","history-list",4,"ngIf"],[1,"btn-group"],["mat-raised-button","",3,"click"],[1,"history-list"],[1,"history-row","history-itemHeader"],[2,"min-width","140px"],["class","history-row-container",4,"ngFor","ngForOf"],[1,"history-row-container"],[1,"history-row","history-item",3,"click"],["style","margin-left: 5px;","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-trash3","viewBox","0 0 16 16",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3",2,"margin-left","5px",3,"click"],["d","M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"]],template:function(e,n){e&1&&(C(0,Tn,11,1,"div",0),Ie(1,"async")),e&2&&w("ngIf",tt(1,1,n.history$))},dependencies:[$,me,he,W,dt,pt,Ut,Ct,Le],styles:[".history-container[_ngcontent-%COMP%]{padding:1rem;background-color:#f9f9f9;max-width:500px;margin:0 auto;margin-bottom:1rem}@media (width >= 800px){.history-container[_ngcontent-%COMP%]{min-width:400px}}.history-container[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]{display:flex;justify-items:center;height:50px}.history-container[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:min-content}.history-container[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;color:#333;height:min-content}.history-container[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{gap:.5rem}.history-container[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-height:300px;overflow-y:auto;border:1px solid #ccc;border-radius:8px;background-color:#fff}.history-container[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-row[_ngcontent-%COMP%]{padding:5px;display:flex;justify-content:space-between}.history-container[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}.history-container[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-last-of-type(1){text-align:right}.history-container[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-itemHeader[_ngcontent-%COMP%]{font-weight:700;color:#333}.history-container[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]{margin-bottom:5px;border-bottom:1px solid #ccc;border-top:1px solid #ccc}.history-container[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;cursor:pointer}"]})};function Dn(o,t){if(o&1){let e=M();l(0,"mwd-history",3),f("recordClick",function(i){_(e);let r=m();return v(r.insertSample(i))})("backFromHistory",function(){_(e);let i=m();return v(i.showHistory$.set(!1))}),c()}}function On(o,t){if(o&1){let e=M();l(0,"tr",15)(1,"td")(2,"input",16),f("input",function(i){let r=_(e).index,s=m(2);return v(s.updateRow(r,"tamizDiameter",i))}),c()(),l(3,"td")(4,"input",17),f("input",function(i){let r=_(e).index,s=m(2);return v(s.updateRow(r,"soilWeight",i))}),c()()()}if(o&2){let e=t.index;w("formGroupName",e)}}function An(o,t){if(o&1){let e=M();l(0,"div",4)(1,"form",5)(2,"table")(3,"thead")(4,"tr")(5,"th"),g(6,"Di\xE1metro tamiz (mm)"),c(),l(7,"th"),g(8,"Peso de suelo (g)"),c()()(),l(9,"tbody",6),C(10,On,5,1,"tr",7),c(),l(11,"tfoot")(12,"tr")(13,"td",8)(14,"button",9),f("click",function(){_(e);let i=m();return v(i.removeRow())}),g(15,"-"),c(),l(16,"button",9),f("click",function(){_(e);let i=m();return v(i.addRow())}),g(17,"+"),c()()()()()(),l(18,"div",10)(19,"button",9),f("click",function(){_(e);let i=m();return v(i.showHistory$.set(!0))}),g(20,"Historial"),c(),l(21,"input",11,0),f("change",function(i){_(e);let r=m();return v(r.onSelectFile(i))}),c(),l(23,"button",12),f("click",function(){_(e);let i=m();return v(i.onClickReset())}),g(24,"Limpiar"),c(),l(25,"button",13),f("click",function(){_(e);let i=Je(22);return v(i.click())}),g(26,"Insertar csv"),c(),l(27,"button",14),f("click",function(){_(e);let i=m();return v(i.onClickSubmit())}),g(28,"Calcular"),c()()()}if(o&2){let e=m();b(),w("formGroup",e.form),b(9),w("ngForOf",e.rows().controls),b(15),w("disabled",!e.coreLoaded()),b(2),w("disabled",!e.coreLoaded())}}var we=class o{formBuilder=y(xt);_loader=y(Z);coreLoaded;sampleSubmitted=new B;resetClick=new B;form=this.formBuilder.group({rows:this.formBuilder.array([])});rows=st(()=>this.form.get("rows"));displayedColumns=["tamizDiameter","soilWeight"];showHistory$=O(!1);ngAfterViewInit(){this.addRow(),this.addRow()}updateRow(t,e,n){let i=n.target,r=i.value;if(r.endsWith(".")||r.endsWith("0"))return;if(r.endsWith(",")){r.replace(",",".");return}let s=Number(r);if(s===0)return;if(isNaN(s)){setTimeout(()=>i.value="",100);return}this.rows().at(t).patchValue({[e]:s});let p=this.rows().length>1&&this.rows().at(this.rows().length-2).valid,d=t===this.rows().length-1;p&&d&&this.addRow()}addRow(){this.rows().push(this._createRowFormGroup())}removeRow(){this.rows().removeAt(this.rows().length-1)}_removeRows(){this.rows().clear()}onClickSubmit(){let t=this._castUIToSample();this.sampleSubmitted.emit(t)}_castUIToSample(){let t=new Map;return this.rows().controls.forEach((e,n)=>{e.valid&&t.set(n,e.value)}),t}static numberValidators=[J.required,J.min(0),J.max(100),J.pattern(/^\d{1,8}(\.\d{1,8})?$/)];_createRowFormGroup(){return this.formBuilder.group({tamizDiameter:["",[...o.numberValidators]],soilWeight:["",o.numberValidators]})}insertSample(t){this.onClickReset(!1),t.forEach(e=>{let n=this.formBuilder.group({tamizDiameter:[e.tamizDiameter,[...o.numberValidators]],soilWeight:[e.soilWeight,o.numberValidators]});this.rows().push(n)}),this.onClickSubmit()}onClickReset(t=!0){this._removeRows(),t&&(this.addRow(),this.addRow()),this.resetClick.emit()}async onSelectFile(t){let e=t.target.files[0],i=await this._loader.getCoreInputDriver().parseFileToSamples(e);this.insertSample(i)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-mwd-samples"]],inputs:{coreLoaded:"coreLoaded"},outputs:{sampleSubmitted:"sampleSubmitted",resetClick:"resetClick"},decls:2,vars:2,consts:[["fileInput",""],[3,"recordClick","backFromHistory",4,"ngIf"],["class","table-container",4,"ngIf"],[3,"recordClick","backFromHistory"],[1,"table-container"],[3,"formGroup"],["formArrayName","rows"],[3,"formGroupName",4,"ngFor","ngForOf"],["colspan","2"],["mat-raised-button","",3,"click"],[1,"button-container"],["hidden","","type","file","accept",".csv",3,"change"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","",3,"click","disabled"],["mat-flat-button","","color","primary",3,"click","disabled"],[3,"formGroupName"],["formControlName","tamizDiameter","type","text","inputmode","numeric",3,"input"],["formControlName","soilWeight","type","text","inputmode","numeric",3,"input"]],template:function(e,n){e&1&&C(0,Dn,1,0,"mwd-history",1)(1,An,29,4,"div",2),e&2&&(w("ngIf",n.showHistory$()),b(),w("ngIf",n.showHistory$()===!1))},dependencies:[$,me,he,_t,ht,ft,gt,vt,bt,yt,wt,W,ye],styles:[".table-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden;display:flex;justify-content:center;margin-bottom:1rem}@media (width <= 450px){.table-container[_ngcontent-%COMP%]{flex-direction:column}}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:280px;border-collapse:collapse}@media (width < 450px){.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:0 auto}}@media (width >= 450px){.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-right:1rem}}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:4px 8px;text-align:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-wrap:wrap;background-color:#f5f5f5;font-weight:700}.table-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;column-gap:1rem;row-gap:1rem;flex-wrap:wrap;justify-content:center;gap:8px;margin-top:1rem;justify-content:start}@media (width <= 450px){.table-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex-direction:row}}.table-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:200px;margin:0 auto}"]})};var Rn=()=>[import("./chunk-JATUUX2F.js").then(o=>o.MwdResultsComponent)];function Pn(o,t){if(o&1){let e=M();l(0,"mwd-results",4),f("downloadClick",function(){_(e);let i=m();return v(i.downloadCsv())}),c()}if(o&2){let e=m();w("results",e.results)}}var be=class o{results=O(null);samples;dialog=y(St);loader=y(Z);_ourDrv;_inDrv;_historySrv=y(F);ngAfterContentInit(){this.loader.startCoreModuleLoading().then(()=>{this.loader.coreLoaded.set(!0),this._ourDrv=this.loader.getCoreOutputDriver(),this._inDrv=this.loader.getCoreInputDriver()})}onSubmitSample(t){this.samples=t;let e=this._inDrv.resolveSamples(t);this._addToHistory(t,e),this.results.set(e)}_addToHistory(t,e){let n={sample:t,result:e.MWDTotal};this._historySrv.addSamplesRecord(n)}downloadCsv(){let t=this.results();if(!t||!this.samples)throw new Error("Aun no se puede generar csv");this._ourDrv.resultsToCsv(t,this.samples)}async openDialog(){let t=await import("./chunk-F5TIBNJJ.js"),e=Object.values(t)[0];this.dialog.open(e).afterClosed().subscribe(i=>{console.log(`Dialog result: ${i}`)})}onResetClick(){this.samples=void 0,this.results.set(null)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["main-layout-root"]],features:[ue([F])],decls:11,vars:2,consts:[[1,"main-header"],["mat-button","",3,"click","disabled"],["id","calc-container"],[3,"sampleSubmitted","resetClick","coreLoaded"],[3,"downloadClick","results"]],template:function(e,n){e&1&&(l(0,"header",0)(1,"h3"),g(2,"Calculadora Di\xE1metro Medio Ponderado"),c(),l(3,"button",1),f("click",function(){return n.openDialog()}),g(4," Ayuda "),c()(),z(5,"hr"),l(6,"div",2)(7,"app-mwd-samples",3),f("sampleSubmitted",function(r){return n.onSubmitSample(r)})("resetClick",function(){return n.onResetClick()}),c(),C(8,Pn,1,1),Xe(9,8,Rn),Qe(),c()),e&2&&(b(3),w("disabled",!n.loader.coreLoaded()),b(4),w("coreLoaded",n.loader.coreLoaded))},dependencies:[$,W,we],styles:["#calc-container[_ngcontent-%COMP%]{display:flex;column-gap:1rem;margin:1rem 1rem 4rem;justify-content:space-around}.main-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.main-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:5px;margin-block-start:0em;margin-block-end:0em}@media (width <= 800px){#calc-container[_ngcontent-%COMP%]{flex-direction:column}}"]})};kt(be,jt).catch(o=>console.error(o));
